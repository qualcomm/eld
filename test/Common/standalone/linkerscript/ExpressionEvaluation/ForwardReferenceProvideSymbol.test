#---ForwardReferenceProvideSymbol.test----------------------- Executable,LS --------------------#
#BEGIN_COMMENT
# This test checks that the linker performs correct expression evaluation
# when the expression contains a forward-reference of a PROVIDE symbol.
#END_COMMENT
#START_TEST
RUN: %clang %clangopts -o %t1.1.o %p/Inputs/1.c -c -ffunction-sections
RUN: %link %linkopts -o %t1.1.out %t1.1.o \
RUN:   -T %p/Inputs/script.ForwardReferenceProvideSymbol.t
RUN: %readelf -s %t1.1.out 2>&1 | %filecheck %s
RUN: %link %linkopts -o %t1.1.phdr.out %t1.1.o \
RUN:   -T %p/Inputs/script.ForwardReferenceProvideSymbol.phdr.t
RUN: %readelf -s %t1.1.phdr.out 2>&1 | %filecheck %s
#END_TEST

CHECK-DAG: : [[#%x, START:]] {{.*}} start
CHECK-DAG: : [[#%x, END:]] {{.*}} end
CHECK-DAG: : {{0+}}[[#%x, V: END - START]] {{.*}} ABS v
CHECK-DAG: : {{0+}}[[#%x, V + 0x10]] {{.*}} ABS u

